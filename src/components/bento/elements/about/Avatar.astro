---
import CircleCheck from "../../../../assets/images/svgs/Circle-Check.svg";
import CircleAlert from "../../../../assets/images/svgs/Circle-Alert.svg";

/**
 * Props:
 * - size: string
 * - aviability : boolean
 */

const { size = "1.5rem", aviability = true } = Astro.props;
---

<div class="avatar-container">
  <span
    class="avatar-frame"
    style={`border-color: ${aviability ? "var(--green)" : "var(--yellow)"}`}
    title={`${aviability ? "Disponible" : "Trabajando"}`}
  >
    <span class="avatar-icon" style={`--icon-size: ${size}`}>
      {
        aviability ? (
          <CircleCheck class="icon check" />
        ) : (
          <CircleAlert class="icon alert" />
        )
      }
    </span>
    <img src="/images/webp/Avatar.webp" class="avatar-image" alt="Avatar Robbin D. ev" />
  </span>
</div>

<style>
  .avatar-container {
    display: flex;
    justify-content: center;
  }

  .avatar-image {
    --size: 108px;
    width: var(--size);
    height: var(--size);
    object-fit: cover;
    border-radius: 50%;
  }

  .avatar-frame {
    position: relative;
    display: grid;
    place-content: center;
    padding: 2px;
    border: 2px solid;
    border-radius: 50%;
  }

  .avatar-icon {
    position: absolute;
    width: 22px;
    height: 22px;
    bottom: 3px;
    right: 5px;
  }

  .icon {
    width: var(--icon-size, 1.5rem);
    height: var(--icon-size, 1.5rem);
  }

  .check {
    color: var(--green);
  }

  .alert {
    color: var(--yellow);
  }

  .avatar-frame::before {
    position: absolute;
    content: "";
    width: 22px;
    height: 22px;
    background-color: var(--color-surface);
    border-radius: 50%;
    bottom: 2px;
    right: 4px;
  }
</style>
